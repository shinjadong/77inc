<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}칠칠기업 법인카드{% endblock %}</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body class="bg-gray-100 min-h-screen">
    <!-- 네비게이션 -->
    <nav class="bg-blue-600 text-white shadow-lg">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-between h-16">
                <a href="/" class="text-xl font-bold">칠칠기업 법인카드</a>
                <div class="flex space-x-4">
                    <a href="/" class="hover:bg-blue-700 px-3 py-2 rounded">메인</a>
                    <a href="/pending" class="hover:bg-blue-700 px-3 py-2 rounded">미분류</a>
                    <a href="/patterns" class="hover:bg-blue-700 px-3 py-2 rounded">패턴 DB</a>
                    <a href="/docs" target="_blank" class="hover:bg-blue-700 px-3 py-2 rounded">API 문서</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- 메인 컨텐츠 -->
    <main class="container mx-auto px-4 py-8">
        {% block content %}{% endblock %}
    </main>

    <!-- 푸터 -->
    <footer class="bg-gray-800 text-white py-4 mt-8">
        <div class="container mx-auto px-4 text-center text-sm">
            칠칠기업 법인카드 자동분류 시스템 v1.0
        </div>
    </footer>

    <script>
        // 공통 유틸리티
        async function apiCall(url, method = 'GET', data = null) {
            const options = {
                method,
                headers: {'Content-Type': 'application/json'}
            };
            if (data) options.body = JSON.stringify(data);
            const response = await fetch(url, options);
            return response.json();
        }

        function formatNumber(num) {
            return new Intl.NumberFormat('ko-KR').format(num);
        }

        function showAlert(message, type = 'info') {
            const colors = {
                'success': 'bg-green-100 border-green-500 text-green-700',
                'error': 'bg-red-100 border-red-500 text-red-700',
                'info': 'bg-blue-100 border-blue-500 text-blue-700',
                'warning': 'bg-yellow-100 border-yellow-500 text-yellow-700'
            };
            const alertDiv = document.createElement('div');
            alertDiv.className = `fixed top-4 right-4 p-4 rounded border-l-4 ${colors[type]} shadow-lg z-50`;
            alertDiv.innerHTML = message;
            document.body.appendChild(alertDiv);
            setTimeout(() => alertDiv.remove(), 3000);
        }
    </script>
    {% block scripts %}{% endblock %}
</body>
</html>
