# 더 강력한 성능을 위한 복잡한 프롬프트 체이닝

<Note>
  While these tips apply broadly to all Claude models, you can find prompting tips specific to extended thinking models [here](/en/docs/build-with-claude/prompt-engineering/extended-thinking-tips).
</Note>

복잡한 작업을 수행할 때, Claude는 단일 프롬프트로 모든 것을 처리하려고 하면 실수를 할 수 있습니다. 사고 연쇄(Chain of thought, CoT) 프롬프팅은 훌륭하지만, 각각 심층적인 사고가 필요한 여러 단계가 있는 작업은 어떨까요?

프롬프트 체이닝이 해답입니다: 복잡한 작업을 더 작고 관리하기 쉬운 하위 작업으로 나누는 것입니다.

## 프롬프트를 체이닝하는 이유는?

1. **정확성**: 각 하위 작업에 Claude가 완전히 집중하여 오류를 줄입니다.
2. **명확성**: 더 단순한 하위 작업은 더 명확한 지시와 출력을 의미합니다.
3. **추적성**: 프롬프트 체인의 문제를 쉽게 찾아내고 수정할 수 있습니다.

***

## 프롬프트를 체이닝해야 하는 경우

연구 종합, 문서 분석 또는 반복적인 콘텐츠 생성과 같은 다단계 작업에 프롬프트 체이닝을 사용하세요. 작업에 여러 변환, 인용 또는 지시사항이 포함된 경우, 체이닝을 통해 Claude가 단계를 놓치거나 잘못 처리하는 것을 방지할 수 있습니다.

**기억하세요:** 체인의 각 연결고리는 Claude의 완전한 주의를 받습니다!

<Tip>**디버깅 팁**: Claude가 단계를 놓치거나 성능이 좋지 않은 경우, 해당 단계를 별도의 프롬프트로 분리하세요. 이를 통해 전체 작업을 다시 하지 않고도 문제가 있는 단계를 미세 조정할 수 있습니다.</Tip>

***

## 프롬프트 체이닝 방법

1. **하위 작업 식별**: 작업을 명확하고 순차적인 단계로 나눕니다.
2. **명확한 전달을 위해 XML로 구조화**: XML 태그를 사용하여 프롬프트 간에 출력을 전달합니다.
3. **단일 작업 목표 설정**: 각 하위 작업은 단일하고 명확한 목표를 가져야 합니다.
4. **반복**: Claude의 성능을 기반으로 하위 작업을 개선합니다.

### 체인 워크플로우 예시:

* **다단계 분석**: 아래의 법률 및 비즈니스 예시를 참조하세요.
* **콘텐츠 생성 파이프라인**: 연구 → 개요 → 초안 → 편집 → 형식.
* **데이터 처리**: 추출 → 변환 → 분석 → 시각화.
* **의사결정**: 정보 수집 → 옵션 나열 → 각각 분석 → 추천.
* **검증 루프**: 콘텐츠 생성 → 검토 → 개선 → 재검토.

<Tip>**최적화 팁**: 독립적인 하위 작업이 있는 경우(여러 문서 분석 등), 속도를 위해 별도의 프롬프트를 만들어 병렬로 실행하세요.</Tip>

### 고급: 자체 수정 체인

Claude가 자신의 작업을 검토하도록 프롬프트를 체이닝할 수 있습니다! 이는 특히 중요한 작업에서 오류를 잡고 출력을 개선합니다.

<AccordionGroup>
  <Accordion title="예시: 자체 수정 연구 요약">
    #### 프롬프트 1

    | 역할                           | 내용                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
    | ---------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
    | User                         | 이 의학 연구 논문을 요약하세요.<br /><br />\<paper>\{\{RESEARCH\_PAPER}}\</paper><br /><br />방법론, 발견 사항 및 임상적 의미에 중점을 두세요.                                                                                                                                                                                                                                                                                                                                                            |
    | Assistant<br />\{\{SUMMARY}} | 방법론: 제2형 당뇨병 환자 500명을 대상으로 한 이중맹검 무작위 대조군 시험. A군(n=250)은 새로운 GLP-1/GIP 이중 작용제를 투여받았고, B군(n=250)은 표준 GLP-1 작용제를 투여받았습니다. 24주 시험, 주요 평가변수: HbA1c 감소.<br /><br />발견 사항:<br />- A군: 평균 HbA1c 1.8% 감소<br />- B군: 평균 HbA1c 1.1% 감소<br />- A군의 68% vs B군의 52%가 HbA1c \<7% 달성<br />- A군: 평균 체중 감소 5.2kg<br />- B군: 평균 체중 감소 3.1kg<br /><br />안전성: 유사한 부작용 프로필, 치료와 관련된 심각한 사례 없음.<br /><br />임상적 의미: 이중 작용제는 표준 치료에 비해 우수한 혈당 조절과 체중 감소를 보여줍니다. 특히 비만 당뇨병 환자에게 게임 체인저가 될 수 있습니다. |

    #### 프롬프트 2

    | 역할                            | 내용                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
    | ----------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
    | User                          | 의학 연구 논문 요약에 대한 피드백을 제공하는 것이 당신의 임무입니다. 다음은 의학 연구 논문의 요약입니다:<br />\<summary><br />\{\{SUMMARY}}<br />\</summary><br /><br />다음은 연구 논문입니다:<br />\<paper><br />\{\{RESEARCH\_PAPER}}<br />\</paper><br /><br />이 요약의 정확성, 명확성, 완성도를 A-F 등급으로 평가하세요.                                                                                                                                                                                                                                                                                                                                                                                    |
    | Assistant<br />\{\{FEEDBACK}} | 1. 정확성: A<br />   - 주요 통계를 정확히 보고: HbA1c 감소, 체중 감소.<br />   - 안전성 프로필과 심각한 부작용 없음을 정확히 기록.<br />   - "게임 체인저"라는 주장은 현저히 나은 결과로 정당화됨.<br /><br />2. 명확성: A-<br />   - 간결하고 잘 구조화된 섹션.<br />   - 맥락을 위한 비교 언어(예: "Q1 대비 3% 상승") 사용이 좋음.<br />   - 사소한 문제: "RCT," "GLP-1," "GIP" 등의 약어가 정의되지 않음. 첫 사용 시 풀어쓰기 고려.<br /><br />3. 완성도: B+<br />   - 요청된 모든 영역 포함: 방법론, 발견 사항, 임상적 의미.<br />   - 누락: 그룹의 기준 특성(잘 매칭되었는가?).<br />   - 누락: 2차 평가변수(예: 혈압, 지질).<br />   - 고려사항: 장기적 의미 또는 추가 연구 필요성.<br /><br />전반적으로 요약은 정확하고 명확하며, 연구를 빠르게 파악하는 데 핵심 통찰을 제공합니다. A+ 등급을 받으려면 약어를 정의하고, 그룹 기준 통계를 언급하며, 2차 결과를 기록하고, 장기 연구의 필요성을 간단히 언급하면 됩니다. |

    #### 프롬프트 3

    | 역할        | 내용                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
    | --------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
    | User      | 피드백을 바탕으로 논문 요약을 개선하는 것이 당신의 임무입니다. 다음은 의학 연구 논문의 첫 초안입니다:<br />\<summary><br />\{\{SUMMARY}}<br />\</summary><br /><br />다음은 연구 논문입니다:<br />\<paper><br />\{\{RESEARCH\_PAPER}}<br />\</paper><br /><br />다음은 피드백입니다:<br />\<feedback><br />\{\{FEEDBACK}}<br />\</feedback><br /><br />피드백을 바탕으로 요약을 업데이트하세요.                                                                                                                                                                                                                                                                                                                                                                                                                                  |
    | Assistant | 방법론: 제2형 당뇨병 환자 500명을 대상으로 한 이중맹검 무작위 대조군 시험(RCT). A군(n=250)은 새로운 글루카곤 유사 펩티드-1/포도당 의존성 인슐린향성 폴리펩티드(GLP-1/GIP) 이중 작용제를 투여받았고, B군(n=250)은 표준 GLP-1 작용제를 투여받았습니다. 24주 시험의 주요 평가변수는 HbA1c 감소였습니다. 그룹은 연령, BMI, 기준 HbA1c에서 잘 매칭되었습니다.<br /><br />발견 사항:<br />- A군: 평균 HbA1c 1.8% 감소<br />- B군: 평균 HbA1c 1.1% 감소<br />- A군의 68% vs B군의 52%가 HbA1c \<7% 달성<br />- A군: 평균 체중 감소 5.2kg<br />- B군: 평균 체중 감소 3.1kg<br /><br />2차 평가변수는 두 그룹 모두에서 혈압과 지질 프로필의 개선을 보여주었으며, A군이 약간 더 나은 결과를 보였습니다.<br /><br />안전성: 유사한 부작용 프로필로, 어느 치료에서도 심각한 사례가 발생하지 않았습니다.<br /><br />임상적 의미: GLP-1/GIP 이중 작용제는 표준 GLP-1 치료에 비해 우수한 혈당 조절과 체중 감소를 보여줍니다. 이러한 결과는 특히 비만 당뇨병 환자에게 중요한 진전이 될 수 있음을 시사합니다. 그러나 지속적인 효능과 안전성을 확인하고 심혈관 결과에 대한 잠재적 이점을 조사하기 위해 더 장기적인 연구가 필요합니다. |
  </Accordion>
</AccordionGroup>

***

## 예시

<AccordionGroup>
  <Accordion title="예시: 법률 계약 분석 (체이닝 없음)">
    Claude가 이메일 초안에서 제안된 변경사항을 제공하라는 지시를 놓친 것에 주목하세요.

    | 역할        | 내용                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
    | --------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
    | User      | 당신은 우리의 법무 책임자입니다. 이 SaaS 계약을 검토하여 데이터 프라이버시, SLA, 책임 한도에 중점을 두고 위험을 평가하세요.<br /><br />\<contract><br />\{\{CONTRACT}}<br />\</contract><br /><br />그런 다음 우려사항과 제안된 변경사항을 담은 이메일을 공급업체에 작성하세요.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
    | Assistant | SaaS 계약을 검토한 결과, 다음과 같은 우려사항을 확인했습니다:<br /><br />1. 데이터 프라이버시 (섹션 7):<br />   - 문제: 공급업체가 "서비스 개선"을 위해 클라이언트 데이터를 사용할 수 있는 광범위한 권한을 가짐.<br />   - 위험: 무단 데이터 공유나 수익화로 이어질 수 있음.<br /><br />2. SLA (섹션 5):<br />   - 문제: 99.5% 가동시간 보장은 업계 표준 이하임.<br />   - 위험: 과도한 다운타임이 우리 운영에 영향을 미칠 수 있음.<br /><br />3. 책임 (섹션 9):<br />   - 문제: 한도가 3개월 요금으로 설정됨.<br />   - 위험: 잠재적 데이터 유출이나 서비스 실패에 대해 부적절함.<br /><br />이메일 초안:<br /><br />친애하는 \{\{VENDOR}}님,<br /><br />SaaS 계약을 검토한 결과, 다음과 같은 우려사항이 있습니다:<br /><br />1. 데이터 프라이버시: 우리 데이터는 광범위한 "서비스 개선"이 아닌 직접적인 서비스 제공에만 사용되어야 합니다. 섹션 7을 수정해 주시기 바랍니다.<br /><br />2. SLA: 99.5% 가동시간은 불충분합니다. 명확하게 정의된 페널티와 함께 99.99%가 필요합니다. 섹션 5를 수정해 주시기 바랍니다.<br /><br />3. 책임: 현재 3개월 요금의 한도는 부적절합니다. 데이터 유출이나 고의적 위법행위에 대해서는 한도를 두지 않고, 12개월 요금으로 한도를 제안합니다.<br /><br />우리는 잠재적 파트너십을 소중히 여기며, 이러한 변경이 우리를 성공으로 이끌 것이라 믿습니다. 수정된 계약을 보내주시기 바랍니다.<br /><br />감사합니다,<br />\{\{CLO\_NAME}} |
  </Accordion>

  <Accordion title="예시: 법률 계약 분석 (체이닝 포함)">
    #### 프롬프트 1

    | 역할                            | 내용                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
    | ----------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
    | User                          | 당신은 우리의 법무 책임자입니다. 이 SaaS 계약을 검토하여 데이터 프라이버시, SLA, 책임 한도에 중점을 두고 위험을 평가하세요.<br /><br />\<contract><br />\{\{CONTRACT}}<br />\</contract><br /><br />\<risks> 태그 안에 발견사항을 출력하세요.                                                                                                                                                                                                                                                                                                                                                                    |
    | Assistant<br />\{\{CONCERNS}} | 1. 데이터 프라이버시 (섹션 7):<br />   - 문제: 공급업체가 "서비스 개선"을 위해 클라이언트 데이터를 사용할 수 있는 광범위한 권한을 가짐.<br />   - 위험: 클라이언트 데이터의 무단 공유나 수익화로 이어질 수 있음.<br />   - 영향: 잠재적 클라이언트 신뢰 위반, 규제 벌금(GDPR, CCPA).<br /><br />2. SLA (섹션 5):<br />   - 문제: 99.5% 가동시간 보장은 업계 표준(일반적으로 99.99%) 이하임.<br />   - 위험: 99.99%에서 52.6분 대비 연간 최대 43.8시간의 다운타임.<br />   - 영향: 운영 중단, 수익 손실, 클라이언트 불만족.<br /><br />3. 책임 (섹션 9):<br />   - 문제: 책임 한도가 3개월 요금으로 설정됨.<br />   - 위험: 데이터 유출, IP 도용, 또는 장기 서비스 실패에 대해 부적절함.<br />   - 영향: 집단 소송이나 규제 벌금과 같이 한도를 크게 초과할 수 있는 손해에 대한 불충분한 보상. |

    #### 프롬프트 2

    | 역할                         | 내용                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
    | -------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
    | User                       | 다음 우려사항을 설명하고 변경을 제안하는 이메일을 SaaS 제품 공급업체에 작성하세요. 다음은 우려사항입니다:<br />\<concerns><br />\{\{CONCERNS}}<br />\</concerns><br /><br />                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
    | Assistant<br />\{\{EMAIL}} | 친애하는 \{\{VENDOR}}님,<br /><br />제안된 SaaS 계약에 대한 철저한 검토 결과, 우리 법무팀은 진행하기 전에 반드시 해결해야 할 몇 가지 중요한 우려사항을 확인했습니다:<br /><br />1. 데이터 프라이버시 (섹션 7):<br />   - 현재: "서비스 개선"을 위한 클라이언트 데이터 사용 권한이 광범위함.<br />   - 우려사항: 잠재적 무단 데이터 공유나 수익화.<br />   - 제안된 변경: 데이터 사용을 직접적인 서비스 제공으로 제한. 개선, 분석, 또는 마케팅을 위한 사용은 반드시 옵트인, 철회 가능, 익명화되어야 함.<br /><br />2. SLA (섹션 5):<br />   - 현재: 99.5% 가동시간 보장.<br />   - 우려사항: 운영 중단 위험이 있는 연간 최대 43.8시간의 다운타임.<br />   - 제안된 변경: 단계별 서비스 크레딧이 있는 99.99% 가동시간. 예: \<99.99%는 10% 크레딧, \<99.9%는 25%, \<99.5%는 50%.<br /><br />3. 책임 (섹션 9):<br />   - 현재: 3개월 요금으로 한도 설정.<br />   - 우려사항: 데이터 유출, IP 도용, 또는 장기 중단에 대해 매우 부적절함.<br />   - 제안된 변경: 일반 책임은 12개월 요금. 데이터 유출, 고의적 위법행위, IP 침해에 대해서는 한도 없음.<br /><br />이러한  변경은 우리에게 협상의 여지가 없습니다. 이는 업계 표준과 데이터 보안, 운영 우수성, 수탁자 책임에 대한 우리의 약속에 부합합니다. 우리는 잠재적 파트너십의 가치를 인정하며, 이러한 문제를 해결하는 것이 강력한 기반을 마련할 것입니다.<br /><br />귀사의 법무팀이 검토하고 이러한 변경사항을 반영해 주시기 바랍니다. 상호 이해와 합의를 보장하기 위해 추가 논의를 할 수 있습니다.<br /><br />감사합니다,<br />\{\{CLO\_NAME}} |

    #### 프롬프트 3

    | 역할        | 내용                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
    | --------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
    | User      | 이메일을 검토하고 피드백을 제공하는 것이 당신의 임무입니다. 다음은 이메일입니다:<br />\<email><br />\{\{EMAIL}}<br />\</email><br /><br />톤, 명확성, 전문성에 대해 피드백을 제공하세요.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
    | Assistant | 1. 톤:<br />   - 대립적이지 않으면서 전문적이고 단호함.<br />   - "협상의 여지가 없음"이라는 표현은 강력하지만 문제의 중요성을 고려하면 정당화됨.<br />   - 협력적인 언어("가치를 인정", "논의할 수 있음")가 단호함과 균형을 이루어 건설적인 톤을 유지함.<br /><br />2. 명확성:<br />   - 각 문제에 대해 현재 상태, 우려사항, 제안된 변경을 포함한 훌륭한 구조화.<br />   - 기술 용어(예: "EBITDA," "단계별 서비스 크레딧")는 B2B SaaS 맥락에 적절함.<br />   - 실행 항목이 명확함: 공급업체 법무팀이 검토하고 변경사항 반영.<br /><br />3. 전문성:<br />   - 우리의 요구사항뿐만 아니라 상호 이익과 업계 표준에 초점을 맞춤.<br />   - 더 넓은 책임(데이터 보안, 운영 우수성, 수탁자 의무)을 언급하여 논의를 격상시킴.<br />   - 추가 논의를 제안하여 문제 이해와 해결에 대한 헌신을 보여줌.<br /><br />전반적으로, 이메일은 단호함과 협력 사이의 적절한 균형을 이룹니다. 우리의 우려사항을 명확히 표현하고, 구체적인 해결책을 제안하며, 전문적이고 파트너십 지향적인 톤을 유지합니다. 수정이 필요 없으니 발송하시면 됩니다. |
  </Accordion>

  <Accordion title="예시: 멀티테넌시 전략 검토">
    #### 프롬프트 1

    | 역할                            | 내용                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
    | ----------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
    | User                          | 수석 솔루션 아키텍트로서, 우리의 새로운 엔터프라이즈 SaaS 제품을 위한 이 멀티테넌시 전략을 검토하고 분석하세요.<br /><br />\<strategy><br />\{\{STRATEGY}}<br />\</strategy><br /><br />확장성, 보안, 비용 효율성에 중점을 두세요.                                                                                                                                                                                                                                                                                                                                                                                                                                 |
    | Assistant<br />\{\{ANALYSIS}} | 1. 확장성:<br />   + 테넌트별 데이터베이스 샤딩으로 경합을 줄이고 높은 성장을 지원함.<br />   + 마이크로서비스로 컴포넌트별 독립적 확장이 가능함.<br />   - 공유 앱 서버가 극단적인 부하에서 병목이 될 수 있음.<br />   - 앱 계층의 자동 확장이나 부하 분산에 대한 언급이 없음.<br /><br />2. 보안:<br />   + 샤딩을 통한 테넌트 데이터 격리로 데이터 유출을 방지함.<br />   + 짧은 만료 시간과 리프레시 토큰이 있는 JWT는 업계 모범 사례임.<br />   - 암호화(저장 시, 전송 중) 또는 키 관리에 대한 언급이 없음.<br />   - IAM 전략이 역할, 권한, 또는 RBAC에 대한 세부사항이 부족함.<br /><br />3. 비용 효율성:<br />   + 공유 앱 서버로 유휴 리소스 비용을 줄임.<br />   + 비정기적 작업을 위한 서버리스 함수로 비용을 최적화함.<br />   - 테넌트별 DB는 최적화된 멀티테넌트 DB 대비 규모에서 비용이 증가할 수 있음.<br />   - 비용 절감을 위한 예약 인스턴스나 스팟 인스턴스에 대한 논의가 없음. |

    #### 프롬프트 2

    | 역할                                 | 내용                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
    | ---------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
    | User                               | 멀티테넌시 전략에 대한 이 분석을 바탕으로 엔지니어링 리더십을 위한 전략 검토 문서를 작성하세요.<br /><br />\<strategy><br />\{\{STRATEGY}}<br />\</strategy><br /><br />\<analysis><br />\{\{ANALYSIS}}<br />\</analysis><br /><br />임원 요약, 상세 분석, 권장사항을 포함하세요.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
    | Assistant<br />\{\{STRATEGY\_DOC}} | # 멀티테넌시 전략 검토: SaaS 엔터프라이즈 제품<br /><br />## 임원 요약<br />제안된 전략은 확장성과 보안 원칙에서 견고한 기반을 보여주지만 구현 세부사항에 간극이 있습니다. 데이터 격리와 컴포넌트 수준 확장에서 뛰어나지만 앱 계층 확장과 고급 보안 조치가 부족합니다. 비용 최적화는 존재하지만 높은 규모에서는 실패할 수 있습니다. 목표된 개선으로 이 전략은 우리의 엔터프라이즈 SaaS 목표를 효과적으로 지원할 수 있습니다.<br /><br />## 상세 분석<br /><br />### 1. 확장성: B+<br /><br />장점:<br />- 테넌트별 데이터베이스 샤딩이 훌륭함. 쿼리 지연을 최소화하고, 높은 데이터 성장을 지원하며, 테넌트별 원활한 확장을 용이하게 함.<br />- 마이크로서비스 아키텍처로 다양한 엔터프라이즈 워크로드를 처리하기 위해 개별 컴포넌트를 수요에 따라 확장할 수 있음.<br /><br />단점:<br />- 공유 애플리케이션 서버가 병목이 될 위험이 있음. 테넌트 수와 트래픽이 증가함에 따라 모든 테넌트의 성능이 저하될 수 있음.<br />- 앱 계층의 자동 확장과 부하 분산이 없는 것은 중대한 누락임. 이는 과도 프로비저닝 없이 트래픽 스파이크를 처리하는 데 필수적임.<br /><br />### 2. 보안: B-<br /><br />장점:<br />- 샤딩된 데이터베이스가 강력한 테넌트 데이터 격리를 제공하여 테넌트 간 데이터 유출이나 무단 접근 위험을 완화함.<br />- 짧은 만료와 리프레시 토큰이 있는 JWT가 OWASP 모범 사례에 부합하여 토큰 취약성 기간을 줄임.<br /><br />단점:<br />- 저장 시 또는 전송 중(TLS 1.3) 데이터 암호화에 대한 언급이 없음. 이는 엔터프라이즈 데이터에 대해 협상의 여지가 없음.<br />- 키 관리 전략이 누락됨. 암호화 키, JWT 시크릿, DB 자격증명은 어떻게 관리되고 교체되는가?<br />- IAM이 깊이가 부족함. 잘 정의된 역할이 있는 RBAC, 세분화된 권한을 위한 속성 기반 접근 제어(ABAC), 엔터프라이즈 ID 제공자(SAML, OIDC)와의 통합이 필요함.<br /><br />### 3. 비용 효율성: B<br /><br />장점:<br />- 공유 앱 서버가 유휴 용량 비용을 줄임, 안정적인 트래픽에 좋음.<br />- 비정기적 작업(예: 보고)에 대한 서버리스는 현명함; 이러한 리소스가 사용될 때만 비용 지불.<br /><br />단점:<br />- 테넌트별 데이터베이스는 강력한 데이터 파티셔닝이 있는 잘 설계된 멀티테넌트 데이터베이스에 비해 규모에서 비용 효율적이지 않을 수 있음.<br />- 예측 가능한 워크로드에 대한 예약 인스턴스나 내결함성 작업에 대한 스팟 인스턴스와 같은 비용 절감 조치에 대한 언급이 없음.<br />- 앱 계층 자동 확장 부재로 과도 프로비저닝이 발생하여 비용이 증가할 수 있음.<br /><br />## 권장사항<br /><br />1. **앱 계층 복원력**: Kubernetes나 클라우드 네이티브 서비스(EKS, GKE)로 자동 확장을 구현. 정적 자산을 위한 CDN과 함께 가용성 영역에 걸쳐 배포.<br /><br />2. **보안 강화**:<br />   a. 저장 시(AES-256)와 전송 중(TLS 1.3) 데이터 암호화.<br />   b. 키 관리에 관리형 KMS(AWS KMS, GCP KMS) 사용.<br />   c. 엔터프라이즈 SSO를 위한 RBAC, ABAC, SAML/OIDC로 IAM 강화.<br /><br />3. **비용 최적화**:<br />   a. 규모에서 샤딩 대비 컬럼형 멀티테넌트 DB(예: Snowflake) 평가.<br />   b. 앱 서버에 예약 인스턴스, 비중요 워크로드에 스팟 인스턴스 사용.<br />   c. 과도 프로비저닝을 피하기 위한 사전 모니터링과 적정 크기 조정 구현.<br /><br />4. **개념 증명(PoC)**: 전체 구현 전에 고규모 시뮬레이션으로 PoC 수행:<br />   a. 비용과 성능에 대해 샤딩된 DB vs 최적화된 멀티테넌트 DB 테스트.<br />   b. 시뮬레이션된 엔터프라이즈 수준 트래픽 스파이크로 앱 계층 스트레스 테스트.<br />   c. 데이터 격리와 접근 제어에 중점을 둔 제3자 보안 감사 수행.<br /><br />이러한 개선으로 우리의 멀티테넌시 전략은 엔터프라이즈급이 될 것입니다: 확장 가능하고, 안전하며, 비용 효율적입니다. PoC는 우리의 설계 선택을 검증하고 엔터프라이즈 클라이언트에게 신뢰를 줄 것입니다. |

    #### 프롬프트 3

    | 역할        | 내용                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
    | --------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
    | User      | 명확성, 실행 가능성, 엔터프라이즈 우선순위와의 정렬 측면에서 이 전략 검토 문서를 평가하세요. <br /><br />\<priorities><br />\{\{PRIORITIES}}<br />\</priorities><br /><br />\<strategy\_doc><br />\{\{STRATEGY\_DOC}}<br />\</strategy\_doc>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
    | Assistant | 1. 명확성: A<br />   + 임원 요약, 상세 분석, 권장사항이 있는 명확한 구조.<br />   + 분석이 강점/약점의 빠른 파악을 위한 등급 시스템(B+, B-)을 사용함.<br />   + 기술 용어(RBAC, ABAC, TLS)가 설명되거나 맥락화되어 비기술 리더십을 지원함.<br />   + 시각적 보조(글머리 기호, 들여쓰기)가 가독성을 향상시킴.<br /><br />2. 실행 가능성: A-<br />   + 권장사항이 구체적이고 기술적임(예: "Kubernetes로 자동 확장 구현").<br />   + 명확한 목표가 있는 PoC 계획이 로드맵을 제공함.<br />   + 누락: 각 권장사항에 대한 일정, 리소스 요구사항, 또는 팀 배정.<br />   + 고려사항: 즉각적인 조치, 역할, 대략적인 일정이 있는 "다음 단계" 섹션 추가.<br /><br />3. 엔터프라이즈 정렬: A+<br />   + 엔터프라이즈 우선순위를 직접적으로 다룸:<br />     - 확장성: 엔터프라이즈 수준 트래픽 스파이크 처리를 논의함.<br />     - 보안: 데이터 격리, 암호화, 엔터프라이즈 IAM에 중점을 둠.<br />     - 비용: 엔터프라이즈 FinOps(예약 인스턴스, 적정 크기 조정)와 전략이 정렬됨.<br />   + "고규모 시뮬레이션"과 보안 감사가 있는 PoC는 엔터프라이즈급 품질에 대한 헌신을 보여줌.<br />   + 언어가 엔터프라이즈 관심사와 공명함: "용납할 수 없는 위험," "엔터프라이즈급," "신뢰를 줄 것."<br /><br />전반적으로, 문서는 명확성과 엔터프라이즈 정렬에서 뛰어납니다. 실행 가능성은 강하지만 "다음 단계" 섹션으로 A+로 높일 수 있습니다. 기술적 깊이와 명확한 설명의 조합이 기술 및 비기술 리더십 모두에게 매우 효과적입니다. 훌륭한 작업입니다! |
  </Accordion>
</AccordionGroup>

***

<CardGroup cols={3}>
  <Card title="프롬프트 라이브러리" icon="link" href="/ko/prompt-library/library">
    다양한 작업과 사용 사례를 위한 엄선된 프롬프트 선택으로 영감을 얻으세요.
  </Card>

  <Card title="GitHub 프롬프팅 튜토리얼" icon="link" href="https://github.com/anthropics/prompt-eng-interactive-tutorial">
    우리 문서에서 찾을 수 있는 프롬프트 엔지니어링 개념을 다루는 예제가 풍부한 튜토리얼입니다.
  </Card>

  <Card title="Google Sheets 프롬프팅 튜토리얼" icon="link" href="https://docs.google.com/spreadsheets/d/19jzLgRruG9kjUQNKtCg1ZjdD6l6weA6qRXG5zLIAhC8">
    대화형 스프레드시트를 통한 우리 프롬프트 엔지니어링 튜토리얼의 더 가벼운 버전입니다.
  </Card>
</CardGroup>
