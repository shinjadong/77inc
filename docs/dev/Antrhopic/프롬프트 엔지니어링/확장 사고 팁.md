# 확장 사고 팁

> Claude의 확장 사고 기능을 최대한 활용하기 위한 고급 전략과 기법을 제공합니다.

export const TryInConsoleButton = ({userPrompt, systemPrompt, maxTokens, thinkingBudgetTokens, buttonVariant = "primary", children}) => {
  const url = new URL("https://console.anthropic.com/workbench/new");
  if (userPrompt) {
    url.searchParams.set("user", userPrompt);
  }
  if (systemPrompt) {
    url.searchParams.set("system", systemPrompt);
  }
  if (maxTokens) {
    url.searchParams.set("max_tokens", maxTokens);
  }
  if (thinkingBudgetTokens) {
    url.searchParams.set("thinking.budget_tokens", thinkingBudgetTokens);
  }
  return <div style={{
    width: "100%",
    position: "relative",
    top: "-77px",
    textAlign: "right"
  }}>
      <a href={url.href} className={`btn size-xs ${buttonVariant}`} style={{
    position: "relative",
    right: "20px",
    zIndex: "10"
  }}>
        {children || "Try in Console"}{" "}
        <Icon icon="arrow-up-right" color="currentColor" size={14} />
      </a>
    </div>;
};

이 가이드는 Claude의 확장 사고 기능을 최대한 활용하기 위한 고급 전략과 기법을 제공합니다. 확장 사고를 통해 Claude는 복잡한 문제를 단계별로 해결할 수 있으며, 어려운 작업에서의 성능을 향상시킬 수 있습니다.

확장 사고를 언제 사용할지 결정하는 방법에 대해서는 [확장 사고 모델](/ko/docs/about-claude/models/extended-thinking-models)을 참조하세요.

## 시작하기 전에

이 가이드는 이미 확장 사고 모드를 사용하기로 결정했으며, [확장 사고 모델 시작하기](/ko/docs/about-claude/models/extended-thinking-models#getting-started-with-extended-thinking-models)에 대한 기본 단계와 [확장 사고 구현 가이드](/ko/docs/build-with-claude/extended-thinking)를 검토했다고 가정합니다.

### 확장 사고를 위한 기술적 고려사항

* 사고 토큰은 최소 1024 토큰의 예산을 가집니다. 최소 사고 예산으로 시작하여 필요와 작업 복잡성에 따라 점진적으로 증가시키는 것을 권장합니다.
* 최적의 사고 예산이 32K를 초과하는 워크로드의 경우, 네트워킹 문제를 피하기 위해 [배치 처리](/ko/docs/build-with-claude/batch-processing)를 사용하는 것을 권장합니다. 모델이 32K 토큰 이상으로 사고하도록 하는 요청은 시스템 타임아웃과 열린 연결 제한에 부딪힐 수 있는 장시간 실행 요청을 야기합니다.
* 확장 사고는 영어에서 최고의 성능을 발휘하지만, 최종 출력은 [Claude가 지원하는 모든 언어](/ko/docs/build-with-claude/multilingual-support)로 가능합니다.
* 최소 예산 미만의 사고가 필요한 경우, 사고를 끄고 XML 태그(`<thinking>`와 같은)를 사용한 전통적인 연쇄 사고 프롬프팅과 함께 표준 모드를 사용하는 것을 권장합니다. [연쇄 사고 프롬프팅](/ko/docs/build-with-claude/prompt-engineering/chain-of-thought)을 참조하세요.

## 확장 사고를 위한 프롬프팅 기법

### 일반적인 지시사항을 먼저 사용하고, 더 단계별 지시사항으로 문제 해결하기

Claude는 단계별 처방적 지침보다는 작업에 대해 깊이 생각하라는 고수준 지시사항으로 더 나은 성능을 보이는 경우가 많습니다. 문제에 접근하는 모델의 창의성은 인간이 최적의 사고 과정을 처방하는 능력을 초과할 수 있습니다.

예를 들어, 다음 대신:

<CodeGroup>
  ```text User theme={null}
  이 수학 문제를 단계별로 생각해보세요:
  1. 먼저 변수를 식별하세요
  2. 그다음 방정식을 설정하세요
  3. 다음으로 x를 구하세요
  ...
  ```
</CodeGroup>

다음을 고려하세요:

<CodeGroup>
  ```text User theme={null}
  이 수학 문제에 대해 철저하고 매우 자세히 생각해보세요.
  여러 접근법을 고려하고 완전한 추론을 보여주세요.
  첫 번째 접근법이 작동하지 않으면 다른 방법을 시도해보세요.
  ```

  />
</CodeGroup>

<TryInConsoleButton
  userPrompt={
  `이 수학 문제에 대해 철저하고 매우 자세히 생각해보세요.
여러 접근법을 고려하고 완전한 추론을 보여주세요.
첫 번째 접근법이 작동하지 않으면 다른 방법을 시도해보세요.`
}
  thinkingBudgetTokens={16000}
>
  콘솔에서 시도하기
</TryInConsoleButton>

그렇긴 하지만, Claude는 필요할 때 복잡한 구조화된 실행 단계를 효과적으로 따를 수 있습니다. 모델은 이전 버전보다 더 복잡한 지시사항이 포함된 더 긴 목록도 처리할 수 있습니다. 더 일반화된 지시사항으로 시작한 다음, Claude의 사고 출력을 읽고 반복하여 그곳에서 사고를 조정하는 더 구체적인 지시사항을 제공하는 것을 권장합니다.

### 확장 사고와 함께하는 멀티샷 프롬프팅

[멀티샷 프롬프팅](/ko/docs/build-with-claude/prompt-engineering/multishot-prompting)은 확장 사고와 잘 작동합니다. Claude에게 문제를 어떻게 생각해야 하는지 예시를 제공하면, 확장 사고 블록 내에서 유사한 추론 패턴을 따를 것입니다.

확장 사고 시나리오에서 `<thinking>` 또는 `<scratchpad>`와 같은 XML 태그를 사용하여 해당 예시에서 확장 사고의 표준 패턴을 나타냄으로써 프롬프트에 퓨샷 예시를 포함할 수 있습니다.

Claude는 패턴을 공식적인 확장 사고 과정으로 일반화할 것입니다. 하지만 Claude가 최선이라고 생각하는 방식으로 자유롭게 생각하도록 하는 것이 더 나은 결과를 얻을 수 있습니다.

예시:

<CodeGroup>
  ```text User theme={null}
  수학 문제를 해결하는 방법을 보여드린 다음, 비슷한 문제를 해결해 주세요.

  문제 1: 80의 15%는 얼마입니까?

  <thinking>
  80의 15%를 구하려면:
  1. 15%를 소수로 변환: 15% = 0.15
  2. 곱하기: 0.15 × 80 = 12
  </thinking>

  답은 12입니다.

  이제 이 문제를 해결해보세요:
  문제 2: 240의 35%는 얼마입니까?
  ```

  />
</CodeGroup>

<TryInConsoleButton
  userPrompt={
  `수학 문제를 해결하는 방법을 보여드린 다음, 비슷한 문제를 해결해 주세요.

문제 1: 80의 15%는 얼마입니까?

<thinking>
80의 15%를 구하려면:
1. 15%를 소수로 변환: 15% = 0.15
2. 곱하기: 0.15 × 80 = 12
</thinking>

답은 12입니다.

이제 이 문제를 해결해보세요:
문제 2: 240의 35%는 얼마입니까?`
}
  thinkingBudgetTokens={16000}
>
  콘솔에서 시도하기
</TryInConsoleButton>

### 확장 사고로 지시사항 따르기 최대화하기

Claude는 확장 사고가 활성화되었을 때 지시사항 따르기에서 상당히 향상된 성능을 보입니다. 모델은 일반적으로:

1. 확장 사고 블록 내에서 지시사항에 대해 추론합니다
2. 응답에서 해당 지시사항을 실행합니다

지시사항 따르기를 최대화하려면:

* 원하는 것에 대해 명확하고 구체적으로 설명하세요
* 복잡한 지시사항의 경우, Claude가 체계적으로 작업해야 하는 번호가 매겨진 단계로 나누는 것을 고려하세요
* Claude가 확장 사고에서 지시사항을 완전히 처리할 수 있도록 충분한 예산을 허용하세요

### 확장 사고를 사용하여 Claude의 행동 디버깅 및 조정하기

Claude의 사고 출력을 사용하여 Claude의 논리를 디버깅할 수 있지만, 이 방법이 항상 완벽하게 신뢰할 수 있는 것은 아닙니다.

이 방법론을 최대한 활용하려면 다음 팁을 권장합니다:

* Claude의 확장 사고를 사용자 텍스트 블록에 다시 전달하는 것은 권장하지 않습니다. 이는 성능을 향상시키지 않으며 실제로 결과를 저하시킬 수 있습니다.
* 확장 사고를 미리 채우는 것은 명시적으로 허용되지 않으며, 사고 블록 다음에 오는 모델의 출력 텍스트를 수동으로 변경하는 것은 모델 혼란으로 인해 결과를 저하시킬 가능성이 높습니다.

확장 사고가 꺼져 있을 때는 표준 `assistant` 응답 텍스트 [미리 채우기](/ko/docs/build-with-claude/prompt-engineering/prefill-claudes-response)가 여전히 허용됩니다.

<Note>
  때때로 Claude는 어시스턴트 출력 텍스트에서 확장 사고를 반복할 수 있습니다. 깔끔한 응답을 원한다면, Claude에게 확장 사고를 반복하지 말고 답만 출력하도록 지시하세요.
</Note>

### 긴 출력과 장문 사고 최대한 활용하기

데이터셋 생성 사용 사례의 경우, "...의 매우 상세한 표를 만들어 주세요"와 같은 프롬프트를 시도하여 포괄적인 데이터셋을 생성하세요.

더 긴 확장 사고 블록과 더 상세한 응답을 생성하려는 상세한 콘텐츠 생성과 같은 사용 사례의 경우, 다음 팁을 시도해보세요:

* 최대 확장 사고 길이를 늘리고 명시적으로 더 긴 출력을 요청하세요
* 매우 긴 출력(20,000+ 단어)의 경우, 단락 수준까지 단어 수가 포함된 상세한 개요를 요청하세요. 그런 다음 Claude에게 단락을 개요에 색인화하고 지정된 단어 수를 유지하도록 요청하세요

<Warning>
  토큰을 위한 토큰을 출력하도록 Claude를 밀어붙이는 것은 권장하지 않습니다. 대신 작은 사고 예산으로 시작하여 사용 사례에 최적의 설정을 찾기 위해 필요에 따라 증가시키는 것을 권장합니다.
</Warning>

다음은 더 긴 확장 사고로 인해 Claude가 뛰어난 성능을 발휘하는 예시 사용 사례입니다:

<AccordionGroup>
  <Accordion title="복잡한 STEM 문제">
    복잡한 STEM 문제는 Claude가 정신적 모델을 구축하고, 전문 지식을 적용하며, 순차적 논리 단계를 거쳐 작업해야 하는데, 이는 더 긴 추론 시간의 혜택을 받는 과정입니다.

    <Tabs>
      <Tab title="표준 프롬프트">
        <CodeGroup>
          ```text User theme={null}
          사각형 안에서 튀는 노란 공에 대한 파이썬 스크립트를 작성하세요.
          충돌 감지를 적절히 처리해야 합니다.
          사각형이 천천히 회전하도록 하세요.
          ```

          />
        </CodeGroup>

        <TryInConsoleButton
          userPrompt={
          `사각형 안에서 튀는 노란 공에 대한 파이썬 스크립트를 작성하세요.
충돌 감지를 적절히 처리해야 합니다.
사각형이 천천히 회전하도록 하세요.`
        }
          thinkingBudgetTokens={16000}
        >
          콘솔에서 시도하기
        </TryInConsoleButton>

        <Note>
          이 간단한 작업은 일반적으로 몇 초 정도의 사고 시간만 필요합니다.
        </Note>
      </Tab>

      <Tab title="향상된 프롬프트">
        <CodeGroup>
          ```text User theme={null}
          테서랙트 안에서 튀는 노란 공에 대한 파이썬 스크립트를 작성하세요.
          충돌 감지를 적절히 처리해야 합니다.
          테서랙트가 천천히 회전하도록 하세요.
          공이 테서랙트 안에 머물도록 하세요.
          ```

          />
        </CodeGroup>

        <TryInConsoleButton
          userPrompt={
          `테서랙트 안에서 튀는 노란 공에 대한 파이썬 스크립트를 작성하세요.
충돌 감지를 적절히 처리해야 합니다.
테서랙트가 천천히 회전하도록 하세요.
공이 테서랙트 안에 머물도록 하세요.`
        }
          thinkingBudgetTokens={16000}
        >
          콘솔에서 시도하기
        </TryInConsoleButton>

        <Note>
          이 복잡한 4D 시각화 도전은 Claude가 수학적 및 프로그래밍 복잡성을 해결하면서 긴 확장 사고 시간을 최대한 활용합니다.
        </Note>
      </Tab>
    </Tabs>
  </Accordion>

  <Accordion title="제약 최적화 문제">
    제약 최적화는 Claude가 여러 경쟁하는 요구사항을 동시에 만족시키도록 도전하는데, 이는 모델이 각 제약을 체계적으로 다룰 수 있도록 긴 확장 사고 시간을 허용할 때 가장 잘 달성됩니다.

    <Tabs>
      <Tab title="표준 프롬프트">
        <CodeGroup>
          ```text User theme={null}
          일본으로 일주일간의 휴가를 계획하세요.
          ```

          />
        </CodeGroup>

        <TryInConsoleButton userPrompt="일본으로 일주일간의 휴가를 계획하세요." thinkingBudgetTokens={16000}>
          콘솔에서 시도하기
        </TryInConsoleButton>

        <Note>
          이 개방형 요청은 일반적으로 몇 초 정도의 사고 시간만 필요합니다.
        </Note>
      </Tab>

      <Tab title="향상된 프롬프트">
        <CodeGroup>
          ```text User theme={null}
          다음 제약 조건으로 일본 7일 여행을 계획하세요:
          - 예산 $2,500
          - 도쿄와 교토를 포함해야 함
          - 채식주의 식단을 수용해야 함
          - 쇼핑보다 문화 체험 선호
          - 하루는 하이킹을 포함해야 함
          - 하루에 장소 간 이동 시간이 2시간을 넘지 않아야 함
          - 매일 오후에 본국으로 전화할 자유 시간이 필요함
          - 가능한 한 인파를 피해야 함
          ```

          />
        </CodeGroup>

        <TryInConsoleButton
          userPrompt={
          `다음 제약 조건으로 일본 7일 여행을 계획하세요:
- 예산 $2,500
- 도쿄와 교토를 포함해야 함
- 채식주의 식단을 수용해야 함
- 쇼핑보다 문화 체험 선호
- 하루는 하이킹을 포함해야 함
- 하루에 장소 간 이동 시간이 2시간을 넘지 않아야 함
- 매일 오후에 본국으로 전화할 자유 시간이 필요함
- 가능한 한 인파를 피해야 함`
        }
          thinkingBudgetTokens={16000}
        >
          콘솔에서 시도하기
        </TryInConsoleButton>

        <Note>
          균형을 맞춰야 할 여러 제약 조건이 있을 때, Claude는 모든 요구사항을 최적으로 만족시키는 방법을 생각할 더 많은 공간이 주어졌을 때 자연스럽게 최고의 성능을 발휘합니다.
        </Note>
      </Tab>
    </Tabs>
  </Accordion>

  <Accordion title="사고 프레임워크">
    구조화된 사고 프레임워크는 Claude에게 따라야 할 명시적인 방법론을 제공하는데, 이는 Claude가 각 단계를 따를 긴 확장 사고 공간이 주어졌을 때 가장 잘 작동할 수 있습니다.

    <Tabs>
      <Tab title="표준 프롬프트">
        <CodeGroup>
          ```text User theme={null}
          Microsoft가 2027년까지 개인 맞춤형 의학 시장에 진입하기 위한 
          포괄적인 전략을 개발하세요.
          ```

          />
        </CodeGroup>

        <TryInConsoleButton
          userPrompt={
          `Microsoft가 2027년까지 개인 맞춤형 의학 시장에 진입하기 위한 
포괄적인 전략을 개발하세요.`
        }
          thinkingBudgetTokens={16000}
        >
          콘솔에서 시도하기
        </TryInConsoleButton>

        <Note>
          이 광범위한 전략적 질문은 일반적으로 몇 초 정도의 사고 시간만 필요합니다.
        </Note>
      </Tab>

      <Tab title="향상된 프롬프트">
        <CodeGroup>
          ```text User theme={null}
          Microsoft가 2027년까지 개인 맞춤형 의학 시장에 진입하기 위한 
          포괄적인 전략을 개발하세요.

          다음으로 시작하세요:
          1. 블루오션 전략 캔버스
          2. 포터의 5가지 힘을 적용하여 경쟁 압력 식별

          다음으로, 규제 및 기술 변수를 기반으로 한 4가지 
          서로 다른 미래로 시나리오 계획 연습을 수행하세요.

          각 시나리오에 대해:
          - 안소프 매트릭스를 사용하여 전략적 대응 개발

          마지막으로, 3개 지평선 프레임워크를 적용하여:
          - 전환 경로 매핑
          - 각 단계에서 잠재적 파괴적 혁신 식별
          ```

          />
        </CodeGroup>

        <TryInConsoleButton
          userPrompt={
          `Microsoft가 2027년까지 개인 맞춤형 의학 시장에 진입하기 위한 
포괄적인 전략을 개발하세요.

다음으로 시작하세요:
1. 블루오션 전략 캔버스
2. 포터의 5가지 힘을 적용하여 경쟁 압력 식별

다음으로, 규제 및 기술 변수를 기반으로 한 4가지 
서로 다른 미래로 시나리오 계획 연습을 수행하세요.

각 시나리오에 대해:
- 안소프 매트릭스를 사용하여 전략적 대응 개발

마지막으로, 3개 지평선 프레임워크를 적용하여:
- 전환 경로 매핑
- 각 단계에서 잠재적 파괴적 혁신 식별`
        }
          thinkingBudgetTokens={16000}
        >
          콘솔에서 시도하기
        </TryInConsoleButton>

        <Note>
          순차적으로 적용되어야 하는 여러 분석 프레임워크를 지정함으로써, Claude가 각 프레임워크를 체계적으로 작업하면서 사고 시간이 자연스럽게 증가합니다.
        </Note>
      </Tab>
    </Tabs>
  </Accordion>
</AccordionGroup>

### 일관성 향상과 오류 처리를 위해 Claude가 자신의 작업을 반성하고 확인하도록 하기

간단한 자연어 프롬프팅을 사용하여 일관성을 향상시키고 오류를 줄일 수 있습니다:

1. 작업을 완료했다고 선언하기 전에 간단한 테스트로 작업을 확인하도록 Claude에게 요청하세요
2. 이전 단계가 예상된 결과를 달성했는지 분석하도록 모델에 지시하세요
3. 코딩 작업의 경우, Claude가 확장 사고에서 테스트 케이스를 실행하도록 요청하세요

예시:

<CodeGroup>
  ```text User theme={null}
  숫자의 팩토리얼을 계산하는 함수를 작성하세요.
  완료하기 전에 다음에 대한 테스트 케이스로 솔루션을 확인해 주세요:
  - n=0
  - n=1
  - n=5
  - n=10
  그리고 발견한 문제를 수정하세요.
  ```

  />
</CodeGroup>

<TryInConsoleButton
  userPrompt={
  `숫자의 팩토리얼을 계산하는 함수를 작성하세요.
완료하기 전에 다음에 대한 테스트 케이스로 솔루션을 확인해 주세요:
- n=0
- n=1
- n=5
- n=10
그리고 발견한 문제를 수정하세요.`
}
  thinkingBudgetTokens={16000}
>
  콘솔에서 시도하기
</TryInConsoleButton>

## 다음 단계

<CardGroup>
  <Card title="확장 사고 쿡북" icon="book" href="https://github.com/anthropics/anthropic-cookbook/tree/main/extended_thinking">
    쿡북에서 확장 사고의 실용적인 예시를 탐색하세요.
  </Card>

  <Card title="확장 사고 가이드" icon="code" href="/ko/docs/build-with-claude/extended-thinking">
    확장 사고 구현을 위한 완전한 기술 문서를 확인하세요.
  </Card>
</CardGroup>
