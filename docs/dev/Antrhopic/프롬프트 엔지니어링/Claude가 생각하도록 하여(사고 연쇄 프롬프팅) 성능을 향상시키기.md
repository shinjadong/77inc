# Claude가 생각하도록 하여(사고 연쇄 프롬프팅) 성능을 향상시키기

<Note>
  While these tips apply broadly to all Claude models, you can find prompting tips specific to extended thinking models [here](/en/docs/build-with-claude/prompt-engineering/extended-thinking-tips).
</Note>

연구, 분석 또는 문제 해결과 같은 복잡한 작업에 직면했을 때, Claude에게 생각할 공간을 주면 성능이 극적으로 향상될 수 있습니다. 사고 연쇄(CoT) 프롬프팅이라고 알려진 이 기술은 Claude가 문제를 단계별로 분석하도록 장려하여 더 정확하고 세밀한 출력을 이끌어냅니다.

## CoT 구현 전

### Claude가 생각하도록 해야 하는 이유는?

* **정확성:** 단계별로 문제를 해결하면 특히 수학, 논리, 분석 또는 일반적으로 복잡한 작업에서 오류가 줄어듭니다.
* **일관성:** 구조화된 사고는 더 응집력 있고 잘 정리된 응답으로 이어집니다.
* **디버깅:** Claude의 사고 과정을 보면 프롬프트가 불명확할 수 있는 부분을 파악하는 데 도움이 됩니다.

### Claude가 생각하지 않아야 하는 이유는?

* 출력 길이가 증가하면 지연 시간에 영향을 미칠 수 있습니다.
* 모든 작업이 심층적인 사고를 필요로 하는 것은 아닙니다. 성능과 지연 시간의 적절한 균형을 보장하기 위해 CoT를 신중하게 사용하세요.

<Tip>복잡한 수학, 다단계 분석, 복잡한 문서 작성 또는 많은 요소가 포함된 결정과 같이 인간이 생각해야 할 작업에 CoT를 사용하세요.</Tip>

***

## 사고를 위한 프롬프트 방법

아래의 사고 연쇄 기법은 **단순한 것부터 복잡한 것 순으로 정렬**되어 있습니다. 덜 복잡한 방법은 컨텍스트 창에서 더 적은 공간을 차지하지만, 일반적으로 덜 강력합니다.

<Tip>**CoT 팁**: 항상 Claude가 자신의 사고를 출력하도록 하세요. 사고 과정을 출력하지 않으면 사고가 일어나지 않습니다!</Tip>

* **기본 프롬프트**: 프롬프트에 "단계별로 생각하세요"를 포함합니다.
  * *어떻게* 생각해야 하는지에 대한 지침이 부족합니다(특히 작업이 앱, 사용 사례 또는 조직에 매우 특정한 경우 이상적이지 않음)
  <Accordion title="예시: 기부자 이메일 작성하기(기본 CoT)">
    | 역할   | 내용                                                                                                                                                                                                                                             |
    | ---- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
    | User | 올해의 Care for Kids 프로그램에 대한 기부를 요청하는 개인화된 이메일을 기부자들에게 작성하세요.<br /><br />프로그램 정보:<br />\<program>\{\{PROGRAM\_DETAILS}}<br />\</program><br /><br />기부자 정보:<br />\<donor>\{\{DONOR\_DETAILS}}<br />\</donor><br /><br />이메일을 작성하기 전에 단계별로 생각하세요. |
  </Accordion>
* **안내된 프롬프트**: Claude가 따라야 할 구체적인 사고 단계를 개략적으로 설명합니다.
  * 답변을 사고 과정에서 분리하고 추출하기 쉽게 구조화하는 것이 부족합니다.
  <Accordion title="예시: 기부자 이메일 작성하기(안내된 CoT)">
    | 역할   | 내용                                                                                                                                                                                                                                                                                                                                                                                                         |
    | ---- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
    | User | 올해의 Care for Kids 프로그램에 대한 기부를 요청하는 개인화된 이메일을 기부자들에게 작성하세요.<br /><br />프로그램 정보:<br />\<program>\{\{PROGRAM\_DETAILS}}<br />\</program><br /><br />기부자 정보:<br />\<donor>\{\{DONOR\_DETAILS}}<br />\</donor><br /><br />이메일을 작성하기 전에 생각하세요. 먼저, 이 기부자의 기부 이력과 과거에 지원한 캠페인을 고려하여 어떤 메시지가 효과적일지 생각하세요. 그다음, 그들의 이력을 고려할 때 Care for Kids 프로그램의 어떤 측면이 그들에게 호소력이 있을지 생각하세요. 마지막으로, 분석을 바탕으로 개인화된 기부자 이메일을 작성하세요. |
  </Accordion>
* **구조화된 프롬프트**: `<thinking>`과 `<answer>`와 같은 XML 태그를 사용하여 추론과 최종 답변을 분리합니다.
  <Accordion title="예시: 기부자 이메일 작성하기(구조화된 안내 CoT)">
    | 역할   | 내용                                                                                                                                                                                                                                                                                                                                                                                                                                           |
    | ---- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
    | User | 올해의 Care for Kids 프로그램에 대한 기부를 요청하는 개인화된 이메일을 기부자들에게 작성하세요.<br /><br />프로그램 정보:<br />\<program>\{\{PROGRAM\_DETAILS}}<br />\</program><br /><br />기부자 정보:<br />\<donor>\{\{DONOR\_DETAILS}}<br />\</donor><br /><br />이메일을 작성하기 전에 \<thinking> 태그 안에서 생각하세요. 먼저, 이 기부자의 기부 이력과 과거에 지원한 캠페인을 고려하여 어떤 메시지가 효과적일지 생각하세요. 그다음, 그들의 이력을 고려할 때 Care for Kids 프로그램의 어떤 측면이 그들에게 호소력이 있을지 생각하세요. 마지막으로, 분석을 바탕으로 \<email> 태그 안에 개인화된 기부자 이메일을 작성하세요. |
  </Accordion>

### 예시

<AccordionGroup>
  <Accordion title="예시: 사고 없는 재무 분석">
    단계별 사고 없이는 Claude가 합리적으로 보이지만 깊이가 부족한 추천을 제공합니다. 잠재적 결과를 수량화하거나 과거 시장 성과를 고려하지 않는데, 이는 정보에 입각한 결정을 내리는 데 중요합니다.

    | 역할        | 내용                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
    | --------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
    | User      | 당신은 재무 상담사입니다. 고객이 \$10,000를 투자하고 싶어합니다. 두 가지 옵션 중 선택할 수 있습니다: A) 연간 12%의 수익률을 기록했지만 변동성이 있는 주식, 또는 B) 연간 6%를 보장하는 채권. 고객은 5년 후 주택 계약금으로 이 돈이 필요합니다. 어떤 옵션을 추천하시겠습니까?                                                                                                                                                                                                                                                                                                                                                                                           |
    | Assistant | 제공된 정보를 바탕으로, 저는 연간 6% 수익을 보장하는 옵션 B, 채권을 추천하겠습니다. 이유는 다음과 같습니다:<br /><br />1. 확실성: 채권은 연간 6%의 수익률을 보장하여 재무 계획의 확실성을 제공합니다. 이는 고객이 특정 재무 목표(계약금)와 고정된 일정(5년)을 가지고 있을 때 매우 중요합니다.<br />2. 위험 회피: 고객이 이 돈을 중요한 인생의 이벤트(주택 구매)에 필요로 하기 때문에, 위험 감수 성향이 낮을 가능성이 높습니다. 자금이 필요한 시점에 가까워졌을 때 주식 시장의 하락이 있다면 그들의 계획이 위태로워질 수 있습니다.<br />3. 시간 범위: 5년이라는 기간은 잠재적인 주식 시장 하락에서 회복하기에 시간이 부족합니다. 더 긴 투자 기간(10년 이상)이 일반적으로 주식 시장의 변동성을 견디기에 더 적합합니다.<br /><br />주식의 12% 역사적 수익률이 매력적이긴 하지만, 과거 성과가 미래의 결과를 보장하지는 않습니다. 채권의 보장된 6%는 고객이 계약금을 지불해야 할 때 필요한 자금을 확보할 수 있도록 보장합니다. |
  </Accordion>

  <Accordion title="예시: 사고를 포함한 재무 분석">
    단계별 사고를 통해 상담사는 훨씬 더 풍부한 분석을 제공합니다. 두 시나리오에 대한 정확한 수치를 계산하고, 역사적 시장 변동성을 고려하며, 고객의 위험 감수 성향을 깊이 있게 분석합니다. 이러한 철저한 추론은 더 확신있고 정당화할 수 있는 추천으로 이어집니다.

    | 역할        | 내용                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
    | --------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
    | User      | 당신은 재무 상담사입니다. 고객이 \$10,000를 투자하고 싶어합니다. 두 가지 옵션 중 선택할 수 있습니다: A) 연간 12%의 수익률을 기록했지만 변동성이 있는 주식, 또는 B) 연간 6%를 보장하는 채권. 고객은 5년 후 주택 계약금으로 이 돈이 필요합니다. 어떤 옵션을 추천하시겠습니까? 단계별로 생각하세요.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
    | Assistant | 고객을 위한 최선의 투자 옵션을 결정하기 위해 여러 요소를 단계별로 고려하겠습니다:<br /><br />\<thinking><br />1. 고객의 목표와 일정 이해:<br />   - 목표: 주택 계약금<br />   - 일정: 5년<br />   - 의미: 이는 단기적이고 우선순위가 높은 재무 목표입니다. 고객은 상당한 위험이나 변동성을 감당할 수 없을 것 같습니다.<br /><br />2. 옵션 A(주식) 분석:<br />   - 장점: 높은 역사적 수익률(연간 12%)<br />   - 단점: 변동성(상당한 이익 또는 손실 가능성 내포)<br />   - 5년 수익 계산:<br />     - 최상의 경우(연간 12%): \$10,000 \* (1.12)^5 ≈ \$17,623.42<br />     - 최악의 경우(시장 붕괴): 상당한 부분을 잃을 수 있음, 예: 50% 하락 = \$5,000<br /><br />3. 옵션 B(채권) 분석:<br />   - 장점: 보장된 수익(연간 6%)<br />   - 단점: 역사적 주식 성과에 비해 낮은 수익률<br />   - 5년 수익 계산:<br />     - 보장: \$10,000 \* (1.06)^5 ≈ \$13,382.25<br /><br />4. 위험 감수 성향 고려:<br />   - 목표가 주택 계약금임(필수적, 재량적이 아님)<br />   - 짧은 일정(5년)으로 시장 하락에서 회복할 시간이 제한됨<br />   - 결론: 고객은 낮은 위험 감수 성향을 가질 가능성이 높음<br /><br />5. 역사적 관점:<br />   - 주식의 12%는 역사적이며, 보장되지 않음<br />   - 5년 기간 동안 주식 시장은 크게 변동할 수 있음:<br />     - 2003-2007(금융 위기 이전): S\&P 500 약 82% 상승<br />     - 2007-2011(위기 동안): S\&P 500 약 2% 하락<br />   - 결론: 과거 성과는 특히 단기적으로 미래 결과를 보장하지 않음<br /><br />6. 최종 분석:<br />   - 옵션 A(주식): 더 높은 잠재 수익률이지만 계약금 목표를 달성하지 못할 위험이 용납할 수 없는 수준<br />   - 옵션 B(채권): 주식 최상의 경우 시나리오의 약 80%를 보장하며, 자금 확보에 100% 확실성<br />\</thinking><br /><br />\<answer><br />저는 연간 6% 수익을 보장하는 옵션 B, 채권을 추천합니다. 주식의 12% 역사적 수익률이 매력적이긴 하지만, 채권은 5년 후 주택 계약금으로 \$13,382.25를 확보할 수 있도록 보장합니다. 목표의 중요성과 짧은 일정을 고려할 때, 주식의 변동성은 용납할 수 없는 위험을 제시합니다. 채권은 이러한 중요한 재무적 이정표를 위해 매우 가치 있는 확실성을 제공합니다.<br />\</answer> |
  </Accordion>
</AccordionGroup>

***

<CardGroup cols={3}>
  <Card title="프롬프트 라이브러리" icon="link" href="/ko/prompt-library/library">
    다양한 작업과 사용 사례를 위한 엄선된 프롬프트 모음에서 영감을 얻으세요.
  </Card>

  <Card title="GitHub 프롬프팅 튜토리얼" icon="link" href="https://github.com/anthropics/prompt-eng-interactive-tutorial">
    우리 문서에서 찾을 수 있는 프롬프트 엔지니어링 개념을 다루는 예시가 풍부한 튜토리얼입니다.
  </Card>

  <Card title="Google Sheets 프롬프팅 튜토리얼" icon="link" href="https://docs.google.com/spreadsheets/d/19jzLgRruG9kjUQNKtCg1ZjdD6l6weA6qRXG5zLIAhC8">
    대화형 스프레드시트를 통한 프롬프트 엔지니어링 튜토리얼의 더 가벼운 버전입니다.
  </Card>
</CardGroup>
